{"ast":null,"code":"import React,{Fragment}from\"react\";import CheckoutSteps from\"../Cart/CheckoutSteps\";import{useSelector}from\"react-redux\";import MetaData from\"../layout/MetaData\";import\"./ConfirmOrder.css\";import{Link}from\"react-router-dom\";import{Typography}from\"@material-ui/core\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ConfirmOrder=()=>{const{shippingInfo,cartItems}=useSelector(state=>state.cart);const{user}=useSelector(state=>state.user);const navigate=useNavigate();const subtotal=cartItems.reduce((acc,item)=>acc+item.quantity*item.price,0);const shippingCharges=subtotal>1000?0:200;const tax=subtotal*0.18;const totalPrice=subtotal+tax+shippingCharges;const address=\"\".concat(shippingInfo.address,\", \").concat(shippingInfo.city,\",\").concat(shippingInfo.state,\", \").concat(shippingInfo.pinCode,\",\").concat(shippingInfo.country);const proceedToPayment=()=>{const data={subtotal,shippingCharges,tax,totalPrice};sessionStorage.setItem(\"orderInfo\",JSON.stringify(data));navigate(\"/process/payment\");};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:\"Confirm Order\"}),/*#__PURE__*/_jsx(CheckoutSteps,{activeStep:1}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirmOrderPage\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"confirmshippingArea\",children:[/*#__PURE__*/_jsx(Typography,{children:\"Shipping Info\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirmshippingAreaBox\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"span\",{children:user===null||user===void 0?void 0:user.name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Phone:\"}),/*#__PURE__*/_jsx(\"span\",{children:shippingInfo.phoneNo})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Address:\"}),/*#__PURE__*/_jsx(\"span\",{children:address})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirmCartItems\",children:[/*#__PURE__*/_jsx(Typography,{children:\"Your Crat Items:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"confirmCartItemsContainer\",children:cartItems&&cartItems.map(item=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:\"Product\"}),/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item.product),children:item.name}),\"\",/*#__PURE__*/_jsxs(\"span\",{children:[item.quantity,\" X \\u20B9\",item.price,\" = \",\"\",/*#__PURE__*/_jsxs(\"b\",{children:[\"\\u20B9\",item.price*item.quantity]})]})]},item.product))})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"orderSummary\",children:[/*#__PURE__*/_jsx(Typography,{children:\"Order Summary\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Subtotal:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",subtotal]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Shipping Charges:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",shippingCharges]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"GST:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",tax]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"orderSummaryTotal\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"Total:\"})}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",totalPrice]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:proceedToPayment,children:\"Proceed To Payment\"})]})})]})]});};export default ConfirmOrder;","map":{"version":3,"names":["React","Fragment","CheckoutSteps","useSelector","MetaData","Link","Typography","useNavigate","jsx","_jsx","jsxs","_jsxs","ConfirmOrder","shippingInfo","cartItems","state","cart","user","navigate","subtotal","reduce","acc","item","quantity","price","shippingCharges","tax","totalPrice","address","concat","city","pinCode","country","proceedToPayment","data","sessionStorage","setItem","JSON","stringify","children","title","activeStep","className","name","phoneNo","map","src","image","alt","to","product","onClick"],"sources":["C:/Users/anant/OneDrive/Desktop/Project/Coir-Grow/frontend/src/component/Cart/ConfirmOrder.js"],"sourcesContent":["import React, { Fragment } from \"react\";\r\nimport CheckoutSteps from \"../Cart/CheckoutSteps\";\r\nimport { useSelector } from \"react-redux\";\r\nimport MetaData from \"../layout/MetaData\";\r\nimport \"./ConfirmOrder.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n\r\nconst ConfirmOrder = () => {\r\n\r\n    const { shippingInfo, cartItems } = useSelector((state)=> state.cart);\r\n    const {user} = useSelector((state) => state.user);\r\n    const navigate = useNavigate();\r\n\r\n    const subtotal = cartItems.reduce(\r\n        (acc, item) => acc + item.quantity * item.price,\r\n        0\r\n    );\r\n\r\n    const shippingCharges = subtotal > 1000 ? 0 : 200;\r\n\r\n    const tax = subtotal * 0.18;\r\n\r\n    const totalPrice = subtotal + tax + shippingCharges;\r\n    \r\n    const address = `${shippingInfo.address}, ${shippingInfo.city},${shippingInfo.state}, ${shippingInfo.pinCode},${shippingInfo.country}`;\r\n\r\n    const proceedToPayment = () => {\r\n        const data = {\r\n            subtotal,\r\n            shippingCharges,\r\n            tax,\r\n            totalPrice,\r\n        };\r\n        sessionStorage.setItem(\"orderInfo\", JSON.stringify(data));\r\n\r\n        navigate(\"/process/payment\");\r\n    };\r\n\r\n    return (\r\n    <Fragment>\r\n       <MetaData title=\"Confirm Order\"/>\r\n       <CheckoutSteps activeStep={1} />\r\n       <div className=\"confirmOrderPage\">\r\n        <div>\r\n        <div className=\"confirmshippingArea\">\r\n        <Typography>Shipping Info</Typography>\r\n        <div className=\"confirmshippingAreaBox\">\r\n            <div>\r\n            <p>Name:</p>\r\n            <span>{user?.name}</span>    \r\n            </div>\r\n            <div>\r\n                <p>Phone:</p>\r\n                <span>{shippingInfo.phoneNo}</span>\r\n            </div>\r\n            <div>\r\n            <p>Address:</p>\r\n            <span>{address}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    <div className=\"confirmCartItems\">\r\n    <Typography>Your Crat Items:</Typography>\r\n      <div className=\"confirmCartItemsContainer\">\r\n      {cartItems &&\r\n       cartItems.map((item) =>(\r\n        <div key = {item.product}> \r\n        <img src={item.image} alt=\"Product\"/>\r\n        <Link to={`/product/${item.product}`}>\r\n            {item.name}\r\n        </Link>{\"\"}\r\n        <span>\r\n            {item.quantity} X ₹{item.price} = {\"\"}\r\n            <b>₹{item.price * item.quantity }</b>\r\n        </span>\r\n\r\n        </div>\r\n       ))}\r\n    </div>    \r\n     </div>\r\n     </div>\r\n        {/* */}\r\n       <div>\r\n       <div className=\"orderSummary\">\r\n       <Typography>Order Summary</Typography>\r\n       <div>\r\n        <div>\r\n            <p>Subtotal:</p>\r\n            <span>₹{subtotal}</span>\r\n        </div>\r\n        <div>\r\n            <p>Shipping Charges:</p>\r\n            <span>₹{shippingCharges}</span>\r\n        </div>\r\n        <div>\r\n            <p>GST:</p>\r\n            <span>₹{tax}</span>\r\n        </div>\r\n       </div>\r\n\r\n       <div className=\"orderSummaryTotal\">\r\n       <p>\r\n        <b>Total:</b>\r\n       </p>\r\n       <span>₹{totalPrice}</span>\r\n       </div>\r\n       \r\n       <button onClick = {proceedToPayment}>Proceed To Payment</button>\r\n       </div>\r\n       </div>\r\n       </div> \r\n    </Fragment>\r\n    );\r\n};\r\n\r\nexport default ConfirmOrder;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}