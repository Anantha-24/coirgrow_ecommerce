{"ast":null,"code":"import React,{Fragment,useEffect,useState}from\"react\";import\"./Products.css\";import{useSelector,useDispatch}from\"react-redux\";import{clearErrors,getProduct}from\"../../actions/productAction\";import Loader from\"../layout/Loader/Loader\";import ProductCard from\"../Home/ProductCard\";import{useParams,useNavigate,Link}from\"react-router-dom\";import Pagination from\"react-js-pagination\";import Slider from\"@material-ui/core/Slider\";import{useAlert}from\"react-alert\";import{Typography}from\"@material-ui/core\";import MetaData from\"../layout/MetaData\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const categories=[\"coir-pith\",\"coir-patch\",\"grow bag\",\"grow bag 1\",\"coir\",\"coir rope\",\"coir 2\"];const Products=_ref=>{let{keyword}=_ref;const dispatch=useDispatch();const alert=useAlert();//const {keyword}  =useParams();\nconst navigate=useNavigate();const[currentPage,setCurrentPage]=useState(1);const[price,setPrice]=useState([0,2000]);const[category,setCategory]=useState(\"\");const[ratings,setRatings]=useState(0);const{products,loading,error,productsCount,resultPerPage,filteredProductsCount}=useSelector(state=>state.products);//const keyword = match.params.keyword;    \n//const keyword = useParams().keyword;\nconst setCurrentPageNo=e=>{setCurrentPage(e);};const priceHandler=(event,newPrice)=>{setPrice(newPrice);};useEffect(()=>{const fetchData=async()=>{try{dispatch(getProduct(keyword,currentPage,price,category,ratings));}catch(error){alert.error(error.response.data.message);dispatch(clearErrors());}};fetchData();},[dispatch,keyword,currentPage,price,category,ratings,alert]);let count=filteredProductsCount;return/*#__PURE__*/_jsx(Fragment,{children:loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:\"PRODUCTS -- Coirgro\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"productsHeading\",children:\"Products\"}),/*#__PURE__*/_jsx(\"div\",{className:\"products\",children:products&&products.map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product},product._id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"filterBox\",children:[/*#__PURE__*/_jsx(Typography,{children:\"Price\"}),/*#__PURE__*/_jsx(Slider,{value:price,onChange:priceHandler,valueLabelDisplay:\"auto\",\"aria-labelledby\":\"range-slider\",min:0,max:2000}),/*#__PURE__*/_jsx(Typography,{children:\"Categories\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"categoryBox\",children:categories.map(category=>/*#__PURE__*/_jsx(\"li\",{className:\"category-link\",onClick:()=>setCategory(category),children:category},category))}),/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(Typography,{component:\"legend\",children:\"Ratings Above\"}),/*#__PURE__*/_jsx(Slider,{value:ratings,onChange:(e,newRating)=>{setRatings(newRating);},\"aria-labelledby\":\"continuous-slider\",valueLabelDisplay:\"auto\",min:0,max:5})]})]}),resultPerPage<count&&/*#__PURE__*/_jsx(\"div\",{className:\"paginationBox\",children:/*#__PURE__*/_jsx(Pagination,{activePage:currentPage,itemsCountPerPage:resultPerPage,totalItemsCount:productsCount,onChange:setCurrentPageNo,nextPageText:\"Next\",prevPageText:\"Prev\",firstPageText:\"1st\",lastPageText:\"last\",itemClass:\"page-item\",linkClass:\"page-link\",activeClass:\"pageItemActive\",activeLinkClass:\"pageLinkActive\"})})]})});};export default Products;","map":{"version":3,"names":["React","Fragment","useEffect","useState","useSelector","useDispatch","clearErrors","getProduct","Loader","ProductCard","useParams","useNavigate","Link","Pagination","Slider","useAlert","Typography","MetaData","jsx","_jsx","jsxs","_jsxs","categories","Products","_ref","keyword","dispatch","alert","navigate","currentPage","setCurrentPage","price","setPrice","category","setCategory","ratings","setRatings","products","loading","error","productsCount","resultPerPage","filteredProductsCount","state","setCurrentPageNo","e","priceHandler","event","newPrice","fetchData","response","data","message","count","children","title","className","map","product","_id","value","onChange","valueLabelDisplay","min","max","onClick","component","newRating","activePage","itemsCountPerPage","totalItemsCount","nextPageText","prevPageText","firstPageText","lastPageText","itemClass","linkClass","activeClass","activeLinkClass"],"sources":["C:/Users/anant/OneDrive/Desktop/Project/Coir-Grow/frontend/src/component/Product/Products.js"],"sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\r\nimport \"./Products.css\" ;\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { clearErrors, getProduct } from \"../../actions/productAction\";\r\nimport Loader from \"../layout/Loader/Loader\";\r\nimport ProductCard from \"../Home/ProductCard\";\r\nimport { useParams, useNavigate, Link } from \"react-router-dom\";\r\nimport Pagination from \"react-js-pagination\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport { useAlert } from \"react-alert\";\r\nimport  { Typography }  from \"@material-ui/core\";\r\nimport MetaData from \"../layout/MetaData\";\r\n\r\n\r\nconst categories = [\r\n    \"coir-pith\",\r\n    \"coir-patch\",\r\n    \"grow bag\",\r\n    \"grow bag 1\",\r\n    \"coir\",\r\n    \"coir rope\",\r\n    \"coir 2\"\r\n];\r\n\r\n    const Products = ( { keyword } ) => {    \r\n    const dispatch = useDispatch();\r\n    const alert = useAlert();\r\n  //const {keyword}  =useParams();\r\n    const navigate = useNavigate();\r\n\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [price, setPrice] = useState([0, 2000]);\r\n    const [category, setCategory] = useState(\"\");\r\n    const [ratings, setRatings] = useState(0)\r\n\r\n    const {\r\n         products,\r\n         loading, \r\n         error, \r\n         productsCount, \r\n         resultPerPage,\r\n         filteredProductsCount,\r\n    } = useSelector(\r\n        (state) => state.products);\r\n\r\n   //const keyword = match.params.keyword;    \r\n   //const keyword = useParams().keyword;\r\n\r\n    const setCurrentPageNo = (e)=>{\r\n        setCurrentPage(e);\r\n    };\r\n\r\n    const priceHandler = (event, newPrice) => {\r\n      setPrice(newPrice);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n          try {\r\n            dispatch(getProduct(keyword, currentPage, price, category, ratings));\r\n          } catch (error) {\r\n            alert.error(error.response.data.message);\r\n            dispatch(clearErrors());\r\n          }\r\n        };\r\n      \r\n        fetchData();\r\n      }, [dispatch, keyword, currentPage, price, category, ratings, alert]);\r\n      \r\n\r\n    let count = filteredProductsCount;\r\n\r\n    return(\r\n    <Fragment>\r\n        {loading? (\r\n            <Loader /> \r\n            ) : (\r\n        <Fragment>\r\n        <MetaData title=\"PRODUCTS -- Coirgro\"/>\r\n   <h2 className=\"productsHeading\">Products</h2>\r\n   <div className=\"products\">\r\n    {products && \r\n    products.map((product) => (\r\n        <ProductCard key={product._id} product={product} />   \r\n    ))}\r\n   </div>\r\n\r\n    <div className=\"filterBox\">\r\n    <Typography>Price</Typography>\r\n    <Slider\r\n        value={price}\r\n        onChange={priceHandler}\r\n        valueLabelDisplay=\"auto\"\r\n        aria-labelledby=\"range-slider\"\r\n        min={0}\r\n        max={2000}\r\n    />\r\n\r\n    <Typography>Categories</Typography>\r\n           <ul className=\"categoryBox\">\r\n            {categories.map((category) => (\r\n                <li\r\n                className=\"category-link\"\r\n                key={category}\r\n                onClick={() => setCategory(category)}\r\n                > \r\n                {category}\r\n                </li>\r\n            ))}\r\n           </ul>\r\n\r\n    <fieldset>\r\n        <Typography component=\"legend\">Ratings Above</Typography>\r\n        <Slider\r\n            value={ratings}\r\n            onChange={(e, newRating) => {\r\n                setRatings(newRating);\r\n            }}\r\n            aria-labelledby=\"continuous-slider\"\r\n            valueLabelDisplay=\"auto\"\r\n            min={0}\r\n            max={5}\r\n        />\r\n    </fieldset>\r\n\r\n   </div>\r\n\r\n\r\n    {resultPerPage < count && (\r\n    <div className=\"paginationBox\">\r\n    <Pagination\r\n    activePage={currentPage}\r\n    itemsCountPerPage={resultPerPage}\r\n    totalItemsCount={productsCount}\r\n    onChange={setCurrentPageNo}\r\n    nextPageText=\"Next\"\r\n    prevPageText=\"Prev\"\r\n    firstPageText=\"1st\"\r\n    lastPageText=\"last\"\r\n    itemClass=\"page-item\"\r\n    linkClass=\"page-link\"\r\n    activeClass=\"pageItemActive\"\r\n    activeLinkClass=\"pageLinkActive\"\r\n    />\r\n   </div>\r\n    )}\r\n\r\n    </Fragment>\r\n        )}\r\n    </Fragment>\r\n    );\r\n};\r\n\r\nexport default Products;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}